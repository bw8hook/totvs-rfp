{"openapi":"3.0.3","info":{"title":"Accounts","version":"0.0.1"},"servers":[{"url":"https://api.contas.rdstationmentoria.com.br/rest"}],"paths":{"/accounts":{"get":{"operationId":"accounts-list","tags":["Accounts"],"security":[{"Authorization":[]}],"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"platform":{"type":"string","enum":["rd","rdcrm","exact"]},"platformId":{"type":"string"},"description":{"type":"string","nullable":true,"default":null},"createdBy":{"type":"string","nullable":true,"default":null},"updatedBy":{"type":"string","nullable":true,"default":null},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"workspaceId":{"type":"string"}},"required":["id","platform","platformId","createdAt","updatedAt","workspaceId"],"additionalProperties":false}}}}},"default":{"$ref":"#/components/responses/error"}}},"post":{"operationId":"accounts-setup","tags":["Accounts"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"platform":{"type":"string","enum":["rd","rdcrm","exact"]},"platformId":{"type":"string"},"description":{"type":"string","nullable":true,"default":null},"credentials":{"type":"object","additionalProperties":{}}},"required":["platform","platformId","credentials"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"platform":{"type":"string","enum":["rd","rdcrm","exact"]},"platformId":{"type":"string"},"description":{"type":"string","nullable":true,"default":null},"createdBy":{"type":"string","nullable":true,"default":null},"updatedBy":{"type":"string","nullable":true,"default":null},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"workspaceId":{"type":"string"}},"required":["id","platform","platformId","createdAt","updatedAt","workspaceId"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/accounts/platform:{platform}":{"get":{"operationId":"accounts-get","tags":["Accounts"],"security":[{"Authorization":[]}],"parameters":[{"name":"platform","in":"path","required":true,"schema":{"type":"string","enum":["rd","rdcrm","exact"]}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"platform":{"type":"string","enum":["rd","rdcrm","exact"]},"platformId":{"type":"string"},"description":{"type":"string","nullable":true,"default":null},"createdBy":{"type":"string","nullable":true,"default":null},"updatedBy":{"type":"string","nullable":true,"default":null},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"workspaceId":{"type":"string"}},"required":["id","platform","platformId","createdAt","updatedAt","workspaceId"],"additionalProperties":false,"nullable":true}}}},"default":{"$ref":"#/components/responses/error"}}}},"/accounts/check/{platform}":{"get":{"operationId":"accounts-check","tags":["Accounts"],"security":[{"Authorization":[]}],"parameters":[{"name":"platform","in":"path","required":true,"schema":{"type":"string","enum":["rd","rdcrm","exact"]}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"boolean"}}}},"default":{"$ref":"#/components/responses/error"}}}},"/accounts/{id}":{"delete":{"operationId":"accounts-remove","tags":["Accounts"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}}},"/admin/accounts/{id}/{workspaceId}/{platform}":{"get":{"operationId":"accounts-credentials","tags":["Accounts"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"workspaceId","in":"path","required":true,"schema":{"type":"string"}},{"name":"platform","in":"path","required":true,"schema":{"type":"string","enum":["rd","rdcrm","exact"]}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{}}}}},"default":{"$ref":"#/components/responses/error"}}}},"/apps/{id}":{"get":{"operationId":"apps-get","tags":["Apps"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"color":{"type":"string","pattern":"^#[0-9a-fA-F]{6}$","default":"#ff5722"},"redirectUris":{"type":"array","items":{"type":"string"},"default":[]},"roles":{"type":"array","items":{"type":"string"},"default":[]}},"required":["id","name"],"additionalProperties":false,"nullable":true}}}},"default":{"$ref":"#/components/responses/error"}}},"put":{"operationId":"apps-update","tags":["Apps"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"color":{"type":"string","pattern":"^#[0-9a-fA-F]{6}$","default":"#ff5722"},"redirectUris":{"type":"array","items":{"type":"string"},"default":[]},"roles":{"type":"array","items":{"type":"string"},"default":[]}},"required":["name"],"additionalProperties":false}}}},"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}}},"/apps":{"get":{"operationId":"apps-list","tags":["Apps"],"security":[{"Authorization":[]}],"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"color":{"type":"string","pattern":"^#[0-9a-fA-F]{6}$","default":"#ff5722"},"redirectUris":{"type":"array","items":{"type":"string"},"default":[]},"roles":{"type":"array","items":{"type":"string"},"default":[]}},"required":["id","name"],"additionalProperties":false}}}}},"default":{"$ref":"#/components/responses/error"}}},"post":{"operationId":"apps-create","tags":["Apps"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"color":{"type":"string","pattern":"^#[0-9a-fA-F]{6}$","default":"#ff5722"},"redirectUris":{"type":"array","items":{"type":"string"},"default":[]},"roles":{"type":"array","items":{"type":"string"},"default":[]}},"required":["id","name"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"color":{"type":"string","pattern":"^#[0-9a-fA-F]{6}$","default":"#ff5722"},"redirectUris":{"type":"array","items":{"type":"string"},"default":[]},"roles":{"type":"array","items":{"type":"string"},"default":[]},"secret":{"type":"string"}},"required":["id","name","secret"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/files":{"post":{"operationId":"files-presign","tags":["Files"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string"}},"required":["type"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"url":{"type":"string"},"key":{"type":"string"},"presigned":{"type":"object","properties":{"url":{"type":"string"},"fields":{"type":"object","additionalProperties":{"type":"string"}}},"required":["url","fields"],"additionalProperties":false}},"required":["url","key","presigned"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/memberships":{"get":{"operationId":"memberships-workspace-list","tags":["Memberships"],"security":[{"Authorization":[]}],"parameters":[{"name":"search","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"type":"string","enum":["membership"]},"data":{"type":"object","properties":{"id":{"type":"string"},"workspaceId":{"type":"string"},"userId":{"type":"string"},"role":{"type":"string","enum":["owner","admin","user"]},"user":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string","format":"email","nullable":true,"default":null},"picture":{"type":"object","properties":{"url":{"type":"string"},"title":{"type":"string","nullable":true,"default":null},"size":{"type":"number","nullable":true,"default":null},"key":{"type":"string","nullable":true,"default":null},"ext":{"type":"string","nullable":true,"default":null},"img":{"type":"string","nullable":true,"default":null},"description":{"type":"string","nullable":true,"default":null}},"required":["url"],"additionalProperties":false,"nullable":true,"default":null},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","name","createdAt","updatedAt"],"additionalProperties":false}},"required":["id","workspaceId","userId","role","user"],"additionalProperties":false}},"required":["type","data"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["invite"]},"data":{"type":"object","properties":{"id":{"type":"string"},"email":{"type":"string","format":"email"},"workspaceId":{"type":"string"},"createdBy":{"type":"string","nullable":true,"default":null},"updatedBy":{"type":"string","nullable":true,"default":null},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","email","workspaceId","createdAt","updatedAt"],"additionalProperties":false}},"required":["type","data"],"additionalProperties":false}]}}}}},"default":{"$ref":"#/components/responses/error"}}}},"/memberships/{id}":{"delete":{"operationId":"memberships-workspace-remove","tags":["Memberships"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}}},"/me/memberships":{"get":{"operationId":"memberships-user-list","tags":["Memberships"],"security":[{"Authorization":[]}],"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"workspaceId":{"type":"string"},"userId":{"type":"string"},"role":{"type":"string","enum":["owner","admin","user"]},"createdBy":{"type":"string","nullable":true,"default":null},"updatedBy":{"type":"string","nullable":true,"default":null},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"workspace":{"type":"object","properties":{"name":{"type":"string"},"picture":{"type":"object","properties":{"url":{"type":"string"},"title":{"type":"string","nullable":true,"default":null},"size":{"type":"number","nullable":true,"default":null},"key":{"type":"string","nullable":true,"default":null},"ext":{"type":"string","nullable":true,"default":null},"img":{"type":"string","nullable":true,"default":null},"description":{"type":"string","nullable":true,"default":null}},"required":["url"],"additionalProperties":false,"nullable":true,"default":null}},"required":["name"],"additionalProperties":false}},"required":["id","workspaceId","userId","role","createdAt","updatedAt","workspace"],"additionalProperties":false}}}}},"default":{"$ref":"#/components/responses/error"}}},"post":{"operationId":"memberships-user-select","tags":["Memberships"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"}},"required":["id"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"redirect":{"type":"string"}},"required":["redirect"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/memberships/invite":{"delete":{"operationId":"invites-workspace-cancel","tags":["Memberships"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}},"post":{"operationId":"invites-workspace-send","tags":["Memberships"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"}},"required":["email"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"boolean"}}}},"default":{"$ref":"#/components/responses/error"}}}},"/roles/{membershipId}":{"get":{"operationId":"roles-list","tags":["Roles"],"security":[{"Authorization":[]}],"parameters":[{"name":"membershipId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"appId":{"type":"string"},"role":{"type":"string","nullable":true,"default":null}},"required":["appId"],"additionalProperties":false}}}}},"default":{"$ref":"#/components/responses/error"}}},"put":{"operationId":"roles-update","tags":["Roles"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"roles":{"type":"array","items":{"type":"object","properties":{"appId":{"type":"string"},"role":{"type":"string","nullable":true,"default":null}},"required":["appId"],"additionalProperties":false}}},"required":["roles"],"additionalProperties":false}}}},"parameters":[{"name":"membershipId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"membershipId":{"type":"string"},"appId":{"type":"string"},"role":{"type":"string","nullable":true,"default":null},"createdBy":{"type":"string","nullable":true,"default":null},"updatedBy":{"type":"string","nullable":true,"default":null},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["membershipId","appId","createdAt","updatedAt"],"additionalProperties":false}}}}},"default":{"$ref":"#/components/responses/error"}}}},"/roles/{membershipId}/{appId}":{"get":{"operationId":"roles-get","tags":["Roles"],"security":[{"Authorization":[]}],"parameters":[{"name":"appId","in":"path","required":true,"schema":{"type":"string"}},{"name":"membershipId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"membershipId":{"type":"string"},"appId":{"type":"string"},"role":{"type":"string","nullable":true,"default":null},"createdBy":{"type":"string","nullable":true,"default":null},"updatedBy":{"type":"string","nullable":true,"default":null},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["membershipId","appId","createdAt","updatedAt"],"additionalProperties":false,"nullable":true}}}},"default":{"$ref":"#/components/responses/error"}}}},"/session":{"get":{"operationId":"session-current","tags":["Session"],"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"anyOf":[{"type":"object","properties":{"type":{"type":"string","enum":["public"]},"properties":{"type":"object","properties":{},"additionalProperties":false}},"required":["type","properties"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["api"]},"properties":{"type":"object","properties":{"keyId":{"type":"string"},"userId":{"type":"string"},"workspaceId":{"type":"string"}},"required":["keyId","userId","workspaceId"],"additionalProperties":false}},"required":["type","properties"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["user"]},"properties":{"type":"object","properties":{"userId":{"type":"string"},"workspaceId":{"type":"string"},"membershipId":{"type":"string"},"role":{"type":"string","enum":["owner","admin","user"]}},"required":["userId"],"additionalProperties":false}},"required":["type","properties"],"additionalProperties":false}]}}}},"default":{"$ref":"#/components/responses/error"}}}},"/users/current":{"get":{"operationId":"users-current","tags":["User"],"security":[{"Authorization":[]}],"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string","format":"email","nullable":true,"default":null},"picture":{"type":"object","properties":{"url":{"type":"string"},"title":{"type":"string","nullable":true,"default":null},"size":{"type":"number","nullable":true,"default":null},"key":{"type":"string","nullable":true,"default":null},"ext":{"type":"string","nullable":true,"default":null},"img":{"type":"string","nullable":true,"default":null},"description":{"type":"string","nullable":true,"default":null}},"required":["url"],"additionalProperties":false,"nullable":true,"default":null},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"identities":{"type":"array","items":{"type":"object","properties":{"provider":{"type":"string","enum":["basic","facebook","google","rd"]},"id":{"type":"string"}},"required":["provider","id"],"additionalProperties":false}}},"required":["id","name","createdAt","updatedAt","identities"],"additionalProperties":false,"nullable":true}}}},"default":{"$ref":"#/components/responses/error"}}},"put":{"operationId":"users-profile","tags":["User"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"picture":{"type":"object","properties":{"url":{"type":"string"},"title":{"type":"string","nullable":true,"default":null},"size":{"type":"number","nullable":true,"default":null},"key":{"type":"string","nullable":true,"default":null},"ext":{"type":"string","nullable":true,"default":null},"img":{"type":"string","nullable":true,"default":null},"description":{"type":"string","nullable":true,"default":null}},"required":["url"],"additionalProperties":false,"nullable":true,"default":null}},"required":["name"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}}},"/users/credentials":{"put":{"operationId":"users-changePassword","tags":["User"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"current":{"type":"string","minLength":6},"new":{"type":"string","minLength":6}},"required":["current","new"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}}},"/users/recovery":{"post":{"operationId":"users-sendRecoveryLink","tags":["User"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"}},"required":["email"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"boolean"}}}},"default":{"$ref":"#/components/responses/error"}}}},"/users/recover":{"post":{"operationId":"users-recover","tags":["User"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"tokenId":{"type":"string"},"password":{"type":"string","minLength":6}},"required":["tokenId","password"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"boolean"}}}},"default":{"$ref":"#/components/responses/error"}}}},"/workspaces/current":{"get":{"operationId":"workspaces-current","tags":["Workspaces"],"security":[{"Authorization":[]}],"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string","enum":["company","individual"]},"name":{"type":"string"},"picture":{"type":"object","properties":{"url":{"type":"string"},"title":{"type":"string","nullable":true,"default":null},"size":{"type":"number","nullable":true,"default":null},"key":{"type":"string","nullable":true,"default":null},"ext":{"type":"string","nullable":true,"default":null},"img":{"type":"string","nullable":true,"default":null},"description":{"type":"string","nullable":true,"default":null}},"required":["url"],"additionalProperties":false,"nullable":true,"default":null},"site":{"type":"string","nullable":true,"default":null},"createdBy":{"type":"string","nullable":true,"default":null},"updatedBy":{"type":"string","nullable":true,"default":null},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","type","name","createdAt","updatedAt"],"additionalProperties":false,"nullable":true}}}},"default":{"$ref":"#/components/responses/error"}}}},"/workspaces":{"post":{"operationId":"workspaces-new","tags":["Workspaces"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"type":{"type":"string","enum":["company","individual"]},"site":{"type":"string","nullable":true,"default":null}},"required":["name","type"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"workspace":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string","enum":["company","individual"]},"name":{"type":"string"},"picture":{"type":"object","properties":{"url":{"type":"string"},"title":{"type":"string","nullable":true,"default":null},"size":{"type":"number","nullable":true,"default":null},"key":{"type":"string","nullable":true,"default":null},"ext":{"type":"string","nullable":true,"default":null},"img":{"type":"string","nullable":true,"default":null},"description":{"type":"string","nullable":true,"default":null}},"required":["url"],"additionalProperties":false,"nullable":true,"default":null},"site":{"type":"string","nullable":true,"default":null},"createdBy":{"type":"string","nullable":true,"default":null},"updatedBy":{"type":"string","nullable":true,"default":null},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","type","name","createdAt","updatedAt"],"additionalProperties":false},"membership":{"type":"object","properties":{"id":{"type":"string"},"workspaceId":{"type":"string"},"userId":{"type":"string"},"role":{"type":"string","enum":["owner","admin","user"]},"createdBy":{"type":"string","nullable":true,"default":null},"updatedBy":{"type":"string","nullable":true,"default":null},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","workspaceId","userId","role","createdAt","updatedAt"],"additionalProperties":false}},"required":["workspace","membership"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/workspaces/@current":{"put":{"operationId":"workspaces-update","tags":["Workspaces"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"}},"required":["name"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}}},"/subscriptions/current":{"get":{"operationId":"subscriptions-current","tags":["Subscriptions"],"security":[{"Authorization":[]}],"parameters":[{"name":"appId","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"anyOf":[{"not":{}},{"type":"object","properties":{"id":{"type":"string"},"customerId":{"type":"string"},"total":{"type":"number"},"discount":{"type":"number","default":0},"currency":{"type":"string","default":"brl"},"coupon":{"anyOf":[{"type":"string"},{"enum":["null"],"nullable":true}]},"status":{"type":"string","enum":["incomplete","incomplete_expired","trialing","active","past_due","canceled","paused","unpaid"]},"expires":{"type":"string","format":"date-time"},"card":{"anyOf":[{"type":"object","properties":{"last4":{"type":"string"},"month":{"type":"number"},"year":{"type":"number"},"brand":{"type":"string"}},"additionalProperties":false},{"enum":["null"],"nullable":true}]},"product":{"type":"object","properties":{"id":{"type":"string"},"priceId":{"type":"string"},"productId":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"quantity":{"type":"number"}},"required":["id","priceId","productId","name","description","price","quantity"],"additionalProperties":false},"email":{"type":"string","format":"email","nullable":true,"default":null},"appId":{"type":"string"},"createdBy":{"type":"string","nullable":true,"default":null},"updatedBy":{"type":"string","nullable":true,"default":null},"workspaceId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"active":{"type":"boolean"},"expired":{"type":"boolean"}},"required":["id","customerId","total","coupon","status","expires","card","product","appId","workspaceId","createdAt","updatedAt","active","expired"],"additionalProperties":false,"nullable":true}]}}}},"default":{"$ref":"#/components/responses/error"}}}},"/subscriptions":{"post":{"operationId":"subscriptions-subscribe","tags":["Subscriptions"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"appId":{"type":"string"},"price":{"type":"object","properties":{"id":{"type":"string"},"quantity":{"type":"number"}},"required":["id","quantity"],"additionalProperties":false}},"required":["appId","price"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"string"}}}},"default":{"$ref":"#/components/responses/error"}}},"get":{"operationId":"subscriptions-list","tags":["Subscriptions"],"security":[{"Authorization":[]}],"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"customerId":{"type":"string"},"total":{"type":"number"},"discount":{"type":"number","default":0},"currency":{"type":"string","default":"brl"},"coupon":{"anyOf":[{"type":"string"},{"enum":["null"],"nullable":true}]},"status":{"type":"string","enum":["incomplete","incomplete_expired","trialing","active","past_due","canceled","paused","unpaid"]},"expires":{"type":"string","format":"date-time"},"card":{"anyOf":[{"type":"object","properties":{"last4":{"type":"string"},"month":{"type":"number"},"year":{"type":"number"},"brand":{"type":"string"}},"additionalProperties":false},{"enum":["null"],"nullable":true}]},"product":{"type":"object","properties":{"id":{"type":"string"},"priceId":{"type":"string"},"productId":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"quantity":{"type":"number"}},"required":["id","priceId","productId","name","description","price","quantity"],"additionalProperties":false},"email":{"type":"string","format":"email","nullable":true,"default":null},"appId":{"type":"string"},"createdBy":{"type":"string","nullable":true,"default":null},"updatedBy":{"type":"string","nullable":true,"default":null},"workspaceId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"active":{"type":"boolean"},"expired":{"type":"boolean"}},"required":["id","customerId","total","coupon","status","expires","card","product","appId","workspaceId","createdAt","updatedAt","active","expired"],"additionalProperties":false}}}}},"default":{"$ref":"#/components/responses/error"}}},"delete":{"operationId":"subscriptions-cancel","tags":["Subscriptions"],"security":[{"Authorization":[]}],"parameters":[{"name":"appId","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}}},"/subscriptions/without-checkout":{"post":{"operationId":"subscriptions-subscribeWithoutCheckout","tags":["Subscriptions"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"appId":{"type":"string"},"price":{"type":"object","properties":{"id":{"type":"string"},"quantity":{"type":"number"}},"required":["id","quantity"],"additionalProperties":false}},"required":["appId","price"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}}},"/subscriptions/payment":{"post":{"operationId":"subscriptions-paymentMethod","tags":["Subscriptions"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"appId":{"type":"string"},"redirect_url":{"type":"string"}},"required":["appId"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"string"}}}},"default":{"$ref":"#/components/responses/error"}}}},"/subscriptions/plan":{"post":{"operationId":"subscriptions-changeCurrentPlan","tags":["Subscriptions"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"price":{"type":"object","properties":{"id":{"type":"string"},"quantity":{"type":"number"}},"required":["id","quantity"],"additionalProperties":false}},"required":["id","price"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}}},"/subscriptions/plan-portal":{"post":{"operationId":"subscriptions-portalChangeCurrentPlan","tags":["Subscriptions"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"appId":{"type":"string"},"price":{"type":"object","properties":{"id":{"type":"string"},"quantity":{"type":"number"}},"required":["id","quantity"],"additionalProperties":false},"redirect_url":{"type":"string"}},"required":["appId","price"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"string"}}}},"default":{"$ref":"#/components/responses/error"}}}}},"components":{"securitySchemes":{"Authorization":{"type":"http","scheme":"bearer"}},"responses":{"error":{"description":"Error response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"},"issues":{"type":"array","items":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}},"required":["message","code"],"additionalProperties":false}}}}}}}