{"openapi":"3.0.3","info":{"title":"Agents","version":"0.0.1"},"servers":[{"url":"https://api.meuassistente.rdstationmentoria.com.br/rest"}],"paths":{"/agents":{"get":{"operationId":"agents-list","tags":["Agents"],"security":[{"Authorization":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"number","default":1}},{"name":"size","in":"query","required":false,"schema":{"type":"number","default":20}},{"name":"search","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string","nullable":true,"default":null},"avatar":{"type":"object","properties":{"url":{"type":"string"},"title":{"type":"string","nullable":true,"default":null},"size":{"type":"number","nullable":true,"default":null},"key":{"type":"string","nullable":true,"default":null},"ext":{"type":"string","nullable":true,"default":null},"img":{"type":"string","nullable":true,"default":null},"description":{"type":"string","nullable":true,"default":null}},"required":["url"],"additionalProperties":false,"nullable":true,"default":null},"color":{"type":"string","pattern":"^#[0-9a-fA-F]{6}$","default":"#ff5722"},"welcome":{"type":"string","nullable":true,"default":null},"instructions":{"type":"string","nullable":true,"default":null},"off":{"type":"string","nullable":true,"default":null},"references":{"type":"boolean","default":false},"purpose":{"type":"string","enum":["general","leads","cs"],"default":"leads"},"freedom":{"type":"string","enum":["free","restricted"],"default":"restricted"},"status":{"type":"string","enum":["online","offline","draft"],"default":"draft"},"fields":{"type":"array","items":{"type":"string","enum":["name","phone","email","company","site"]},"default":["name","email"]},"workspaceId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"createdBy":{"type":"string","nullable":true},"updatedBy":{"type":"string","nullable":true}},"required":["id","name","workspaceId","createdAt","updatedAt","createdBy","updatedBy"],"additionalProperties":false}},"meta":{"type":"object","properties":{"total":{"type":"number"},"page":{"type":"number"},"size":{"type":"number"},"first":{"type":"number"},"last":{"type":"number"},"next":{"type":"number","nullable":true},"previous":{"type":"number","nullable":true}},"required":["total","page","size","first","last","next","previous"],"additionalProperties":false}},"required":["data","meta"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}},"post":{"operationId":"agents-create","tags":["Agents"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"purpose":{"type":"string","enum":["general","leads","cs"],"default":"leads"},"kbs":{"type":"array","items":{"type":"string"},"default":[]},"fields":{"type":"array","items":{"type":"string","enum":["name","phone","email","company","site"]},"default":["name","email"]},"name":{"type":"string"},"avatar":{"type":"object","properties":{"url":{"type":"string"},"title":{"type":"string","nullable":true,"default":null},"size":{"type":"number","nullable":true,"default":null},"key":{"type":"string","nullable":true,"default":null},"ext":{"type":"string","nullable":true,"default":null},"img":{"type":"string","nullable":true,"default":null},"description":{"type":"string","nullable":true,"default":null}},"required":["url"],"additionalProperties":false,"nullable":true,"default":null},"color":{"type":"string","pattern":"^#[0-9a-fA-F]{6}$","default":"#ff5722"},"status":{"type":"string","enum":["online","offline","draft"],"default":"draft"},"destinations":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string","enum":["rdcrm","rd","exact","email"]},"credentials":{"type":"object","additionalProperties":{}}},"required":["type","credentials"],"additionalProperties":false},"default":[]}},"required":["name"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string","nullable":true,"default":null},"avatar":{"type":"object","properties":{"url":{"type":"string"},"title":{"type":"string","nullable":true,"default":null},"size":{"type":"number","nullable":true,"default":null},"key":{"type":"string","nullable":true,"default":null},"ext":{"type":"string","nullable":true,"default":null},"img":{"type":"string","nullable":true,"default":null},"description":{"type":"string","nullable":true,"default":null}},"required":["url"],"additionalProperties":false,"nullable":true,"default":null},"color":{"type":"string","pattern":"^#[0-9a-fA-F]{6}$","default":"#ff5722"},"welcome":{"type":"string","nullable":true,"default":null},"instructions":{"type":"string","nullable":true,"default":null},"off":{"type":"string","nullable":true,"default":null},"references":{"type":"boolean","default":false},"purpose":{"type":"string","enum":["general","leads","cs"],"default":"leads"},"freedom":{"type":"string","enum":["free","restricted"],"default":"restricted"},"status":{"type":"string","enum":["online","offline","draft"],"default":"draft"},"fields":{"type":"array","items":{"type":"string","enum":["name","phone","email","company","site"]},"default":["name","email"]},"workspaceId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"createdBy":{"type":"string","nullable":true},"updatedBy":{"type":"string","nullable":true}},"required":["id","name","workspaceId","createdAt","updatedAt","createdBy","updatedBy"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/agents/{id}":{"get":{"operationId":"agents-get","tags":["Agents"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string","nullable":true,"default":null},"avatar":{"type":"object","properties":{"url":{"type":"string"},"title":{"type":"string","nullable":true,"default":null},"size":{"type":"number","nullable":true,"default":null},"key":{"type":"string","nullable":true,"default":null},"ext":{"type":"string","nullable":true,"default":null},"img":{"type":"string","nullable":true,"default":null},"description":{"type":"string","nullable":true,"default":null}},"required":["url"],"additionalProperties":false,"nullable":true,"default":null},"color":{"type":"string","pattern":"^#[0-9a-fA-F]{6}$","default":"#ff5722"},"welcome":{"type":"string","nullable":true,"default":null},"instructions":{"type":"string","nullable":true,"default":null},"off":{"type":"string","nullable":true,"default":null},"references":{"type":"boolean","default":false},"purpose":{"type":"string","enum":["general","leads","cs"],"default":"leads"},"freedom":{"type":"string","enum":["free","restricted"],"default":"restricted"},"status":{"type":"string","enum":["online","offline","draft"],"default":"draft"},"fields":{"type":"array","items":{"type":"string","enum":["name","phone","email","company","site"]},"default":["name","email"]},"workspaceId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"createdBy":{"type":"string","nullable":true},"updatedBy":{"type":"string","nullable":true},"kbs":{"type":"array","items":{"type":"string"},"default":[]},"destinations":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string","enum":["rdcrm","rd","exact","email"]},"credentials":{"type":"object","additionalProperties":{}}},"required":["type","credentials"],"additionalProperties":false},"default":[]}},"required":["id","name","workspaceId","createdAt","updatedAt","createdBy","updatedBy"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}},"put":{"operationId":"agents-update","tags":["Agents"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string","nullable":true,"default":null},"avatar":{"type":"object","properties":{"url":{"type":"string"},"title":{"type":"string","nullable":true,"default":null},"size":{"type":"number","nullable":true,"default":null},"key":{"type":"string","nullable":true,"default":null},"ext":{"type":"string","nullable":true,"default":null},"img":{"type":"string","nullable":true,"default":null},"description":{"type":"string","nullable":true,"default":null}},"required":["url"],"additionalProperties":false,"nullable":true,"default":null},"color":{"type":"string","pattern":"^#[0-9a-fA-F]{6}$","default":"#ff5722"},"welcome":{"type":"string","nullable":true,"default":null},"instructions":{"type":"string","nullable":true,"default":null},"off":{"type":"string","nullable":true,"default":null},"references":{"type":"boolean","default":false},"purpose":{"type":"string","enum":["general","leads","cs"],"default":"leads"},"freedom":{"type":"string","enum":["free","restricted"],"default":"restricted"},"status":{"type":"string","enum":["online","offline","draft"],"default":"draft"},"fields":{"type":"array","items":{"type":"string","enum":["name","phone","email","company","site"]},"default":["name","email"]},"kbs":{"type":"array","items":{"type":"string"},"default":[]},"destinations":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string","enum":["rdcrm","rd","exact","email"]},"credentials":{"type":"object","additionalProperties":{}}},"required":["type","credentials"],"additionalProperties":false},"default":[]}},"required":["name"],"additionalProperties":false}}}},"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}},"delete":{"operationId":"agents-remove","tags":["Agents"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}}},"/conversations/{id}":{"get":{"operationId":"conversations-get","tags":["Conversations"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"agent":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string","nullable":true,"default":null},"avatar":{"type":"object","properties":{"url":{"type":"string"},"title":{"type":"string","nullable":true,"default":null},"size":{"type":"number","nullable":true,"default":null},"key":{"type":"string","nullable":true,"default":null},"ext":{"type":"string","nullable":true,"default":null},"img":{"type":"string","nullable":true,"default":null},"description":{"type":"string","nullable":true,"default":null}},"required":["url"],"additionalProperties":false,"nullable":true,"default":null},"color":{"type":"string","pattern":"^#[0-9a-fA-F]{6}$","default":"#ff5722"},"welcome":{"type":"string","nullable":true,"default":null},"instructions":{"type":"string","nullable":true,"default":null},"off":{"type":"string","nullable":true,"default":null},"references":{"type":"boolean","default":false},"purpose":{"type":"string","enum":["general","leads","cs"],"default":"leads"},"freedom":{"type":"string","enum":["free","restricted"],"default":"restricted"},"status":{"type":"string","enum":["online","offline","draft"],"default":"draft"},"fields":{"type":"array","items":{"type":"string","enum":["name","phone","email","company","site"]},"default":["name","email"]},"workspaceId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"createdBy":{"type":"string","nullable":true},"updatedBy":{"type":"string","nullable":true},"kbs":{"type":"array","items":{"type":"string"},"default":[]},"destinations":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string","enum":["rdcrm","rd","exact","email"]},"credentials":{"type":"object","additionalProperties":{}}},"required":["type","credentials"],"additionalProperties":false},"default":[]}},"required":["id","name","workspaceId","createdAt","updatedAt","createdBy","updatedBy"],"additionalProperties":false},"messages":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"conversationId":{"type":"string"},"from":{"type":"string","enum":["agent","lead"]},"text":{"type":"string"},"intent":{"type":"string"},"metadata":{"type":"object","additionalProperties":{}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","conversationId","from","text","intent","metadata","createdAt","updatedAt"],"additionalProperties":false},"default":[]}},"required":["id","title","createdAt","agent"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}},"delete":{"operationId":"conversations-delete","tags":["Conversations"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}}},"/conversations/list/{agentId}":{"get":{"operationId":"conversations-list","tags":["Conversations"],"security":[{"Authorization":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"number","default":1}},{"name":"size","in":"query","required":false,"schema":{"type":"number","default":20}},{"name":"agentId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"agentId":{"type":"string"},"leadId":{"type":"string","nullable":true,"default":null},"stage":{"type":"string","enum":["identify","operational"],"default":"identify"},"context":{"type":"object","additionalProperties":{}},"workspaceId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","title","agentId","context","workspaceId","createdAt","updatedAt"],"additionalProperties":false}},"meta":{"type":"object","properties":{"total":{"type":"number"},"page":{"type":"number"},"size":{"type":"number"},"first":{"type":"number"},"last":{"type":"number"},"next":{"type":"number","nullable":true},"previous":{"type":"number","nullable":true}},"required":["total","page","size","first","last","next","previous"],"additionalProperties":false}},"required":["data","meta"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/fields":{"get":{"operationId":"fields-list","tags":["Fields"],"security":[{"Authorization":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"number","default":1}},{"name":"size","in":"query","required":false,"schema":{"type":"number","default":20}},{"name":"search","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"active":{"type":"boolean","default":true},"workspaceId":{"type":"string"},"createdBy":{"type":"string","nullable":true},"updatedBy":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","name","description","workspaceId","createdBy","updatedBy","createdAt","updatedAt"],"additionalProperties":false}},"meta":{"type":"object","properties":{"total":{"type":"number"},"page":{"type":"number"},"size":{"type":"number"},"first":{"type":"number"},"last":{"type":"number"},"next":{"type":"number","nullable":true},"previous":{"type":"number","nullable":true}},"required":["total","page","size","first","last","next","previous"],"additionalProperties":false}},"required":["data","meta"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}},"post":{"operationId":"fields-new","tags":["Fields"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"}},"required":["name","description"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"active":{"type":"boolean","default":true},"workspaceId":{"type":"string"},"createdBy":{"type":"string","nullable":true},"updatedBy":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","name","description","workspaceId","createdBy","updatedBy","createdAt","updatedAt"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/fields/{id}":{"get":{"operationId":"fields-get","tags":["Fields"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"active":{"type":"boolean","default":true},"workspaceId":{"type":"string"},"createdBy":{"type":"string","nullable":true},"updatedBy":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","name","description","workspaceId","createdBy","updatedBy","createdAt","updatedAt"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}},"put":{"operationId":"fields-update","tags":["Fields"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"description":{"type":"string"}},"required":["description"],"additionalProperties":false}}}},"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}}},"/fields/{id}/enable":{"put":{"operationId":"fields-enable","tags":["Fields"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}}},"/fields/{id}/disable":{"put":{"operationId":"fields-disable","tags":["Fields"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}}},"/files":{"post":{"operationId":"files-presign","tags":["Files"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string"}},"required":["type"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"url":{"type":"string"},"key":{"type":"string"},"presigned":{"type":"object","properties":{"url":{"type":"string"},"fields":{"type":"object","additionalProperties":{"type":"string"}}},"required":["url","fields"],"additionalProperties":false}},"required":["url","key","presigned"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/knowledge":{"get":{"operationId":"knowledge-list","tags":["Knowledge"],"security":[{"Authorization":[]}],"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"description":{"type":"string"},"status":{"type":"string","enum":["succeeded","failed","in_progress"],"default":"in_progress"},"records":{"type":"number","default":0},"createdBy":{"type":"string","nullable":true},"updatedBy":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","description","createdBy","updatedBy","createdAt","updatedAt"],"additionalProperties":false}}}}},"default":{"$ref":"#/components/responses/error"}}}},"/leads":{"get":{"operationId":"leads-list","tags":["Leads"],"security":[{"Authorization":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"number","default":1}},{"name":"size","in":"query","required":false,"schema":{"type":"number","default":20}},{"name":"search","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"agentId":{"type":"string"},"name":{"type":"string","nullable":true,"default":null},"email":{"type":"string","nullable":true,"default":null},"phone":{"type":"string","nullable":true,"default":null},"company":{"type":"string","nullable":true,"default":null},"site":{"type":"string","nullable":true,"default":null},"custom":{"type":"object","additionalProperties":{"type":"string"}},"status":{"type":"string","enum":["guest","lead"],"default":"guest"},"workspaceId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","agentId","custom","workspaceId","createdAt","updatedAt"],"additionalProperties":false}},"meta":{"type":"object","properties":{"total":{"type":"number"},"page":{"type":"number"},"size":{"type":"number"},"first":{"type":"number"},"last":{"type":"number"},"next":{"type":"number","nullable":true},"previous":{"type":"number","nullable":true}},"required":["total","page","size","first","last","next","previous"],"additionalProperties":false}},"required":["data","meta"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}},"post":{"operationId":"leads-new","tags":["Leads"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"agentId":{"type":"string"},"name":{"type":"string","nullable":true,"default":null},"email":{"type":"string","nullable":true,"default":null},"phone":{"type":"string","nullable":true,"default":null},"company":{"type":"string","nullable":true,"default":null},"site":{"type":"string","nullable":true,"default":null},"status":{"type":"string","enum":["guest","lead"],"default":"guest"},"platformId":{"type":"string"},"platform":{"type":"string"}},"required":["agentId","platformId","platform"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"agentId":{"type":"string"},"name":{"type":"string","nullable":true,"default":null},"email":{"type":"string","nullable":true,"default":null},"phone":{"type":"string","nullable":true,"default":null},"company":{"type":"string","nullable":true,"default":null},"site":{"type":"string","nullable":true,"default":null},"custom":{"type":"object","additionalProperties":{"type":"string"}},"status":{"type":"string","enum":["guest","lead"],"default":"guest"},"workspaceId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","agentId","custom","workspaceId","createdAt","updatedAt"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/leads/{id}":{"get":{"operationId":"leads-get","tags":["Leads"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"agentId":{"type":"string"},"name":{"type":"string","nullable":true,"default":null},"email":{"type":"string","nullable":true,"default":null},"phone":{"type":"string","nullable":true,"default":null},"company":{"type":"string","nullable":true,"default":null},"site":{"type":"string","nullable":true,"default":null},"custom":{"type":"object","additionalProperties":{"type":"string"}},"status":{"type":"string","enum":["guest","lead"],"default":"guest"},"workspaceId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"identities":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"platform":{"type":"string"}},"required":["id","platform"],"additionalProperties":false},"default":[]}},"required":["id","agentId","custom","workspaceId","createdAt","updatedAt"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}},"delete":{"operationId":"leads-remove","tags":["Leads"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}}},"/plugins":{"get":{"operationId":"plugins-list","tags":["Plugins"],"security":[{"Authorization":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"number","default":1}},{"name":"size","in":"query","required":false,"schema":{"type":"number","default":20}},{"name":"search","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"schemaVersion":{"type":"string"},"nameForHuman":{"type":"string"},"nameForModel":{"type":"string"},"descriptionForHuman":{"type":"string"},"descriptionForModel":{"type":"string"},"auth":{"anyOf":[{"type":"object","properties":{"type":{"type":"string","enum":["none"]}},"required":["type"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["user_http"]},"authorizationType":{"type":"string","enum":["bearer","basic"]}},"required":["type","authorizationType"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["service_http"]},"authorizationType":{"type":"string","enum":["bearer","basic"]},"verificationTokens":{"type":"object","additionalProperties":{"type":"string"}}},"required":["type","authorizationType","verificationTokens"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["oauth"]},"clientUrl":{"type":"string"},"scope":{"type":"string"},"authorizationUrl":{"type":"string"},"authorizationContentType":{"type":"string"},"verificationTokens":{"type":"object","additionalProperties":{"type":"string"}}},"required":["type","clientUrl","scope","authorizationUrl","authorizationContentType","verificationTokens"],"additionalProperties":false}]},"api":{"type":"object","properties":{"type":{"type":"string","enum":["openapi"]},"url":{"type":"string"},"hasUserAuthentication":{"type":"boolean","default":false}},"required":["type","url"],"additionalProperties":false},"logoUrl":{"type":"string"},"contactEmail":{"type":"string"},"legalInfoUrl":{"type":"string"},"id":{"type":"string"},"url":{"type":"string"},"workspaceId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["schemaVersion","nameForHuman","nameForModel","descriptionForHuman","descriptionForModel","auth","api","logoUrl","contactEmail","legalInfoUrl","id","url","workspaceId","createdAt","updatedAt"],"additionalProperties":false}},"meta":{"type":"object","properties":{"total":{"type":"number"},"page":{"type":"number"},"size":{"type":"number"},"first":{"type":"number"},"last":{"type":"number"},"next":{"type":"number","nullable":true},"previous":{"type":"number","nullable":true}},"required":["total","page","size","first","last","next","previous"],"additionalProperties":false}},"required":["data","meta"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}},"post":{"operationId":"plugins-new","tags":["Plugins"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"url":{"type":"string"}},"required":["url"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"schemaVersion":{"type":"string"},"nameForHuman":{"type":"string"},"nameForModel":{"type":"string"},"descriptionForHuman":{"type":"string"},"descriptionForModel":{"type":"string"},"auth":{"anyOf":[{"type":"object","properties":{"type":{"type":"string","enum":["none"]}},"required":["type"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["user_http"]},"authorizationType":{"type":"string","enum":["bearer","basic"]}},"required":["type","authorizationType"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["service_http"]},"authorizationType":{"type":"string","enum":["bearer","basic"]},"verificationTokens":{"type":"object","additionalProperties":{"type":"string"}}},"required":["type","authorizationType","verificationTokens"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["oauth"]},"clientUrl":{"type":"string"},"scope":{"type":"string"},"authorizationUrl":{"type":"string"},"authorizationContentType":{"type":"string"},"verificationTokens":{"type":"object","additionalProperties":{"type":"string"}}},"required":["type","clientUrl","scope","authorizationUrl","authorizationContentType","verificationTokens"],"additionalProperties":false}]},"api":{"type":"object","properties":{"type":{"type":"string","enum":["openapi"]},"url":{"type":"string"},"hasUserAuthentication":{"type":"boolean","default":false}},"required":["type","url"],"additionalProperties":false},"logoUrl":{"type":"string"},"contactEmail":{"type":"string"},"legalInfoUrl":{"type":"string"},"id":{"type":"string"},"url":{"type":"string"},"workspaceId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["schemaVersion","nameForHuman","nameForModel","descriptionForHuman","descriptionForModel","auth","api","logoUrl","contactEmail","legalInfoUrl","id","url","workspaceId","createdAt","updatedAt"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/plugins/{id}":{"get":{"operationId":"plugins-get","tags":["Plugins"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"schemaVersion":{"type":"string"},"nameForHuman":{"type":"string"},"nameForModel":{"type":"string"},"descriptionForHuman":{"type":"string"},"descriptionForModel":{"type":"string"},"auth":{"anyOf":[{"type":"object","properties":{"type":{"type":"string","enum":["none"]}},"required":["type"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["user_http"]},"authorizationType":{"type":"string","enum":["bearer","basic"]}},"required":["type","authorizationType"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["service_http"]},"authorizationType":{"type":"string","enum":["bearer","basic"]},"verificationTokens":{"type":"object","additionalProperties":{"type":"string"}}},"required":["type","authorizationType","verificationTokens"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["oauth"]},"clientUrl":{"type":"string"},"scope":{"type":"string"},"authorizationUrl":{"type":"string"},"authorizationContentType":{"type":"string"},"verificationTokens":{"type":"object","additionalProperties":{"type":"string"}}},"required":["type","clientUrl","scope","authorizationUrl","authorizationContentType","verificationTokens"],"additionalProperties":false}]},"api":{"type":"object","properties":{"type":{"type":"string","enum":["openapi"]},"url":{"type":"string"},"hasUserAuthentication":{"type":"boolean","default":false}},"required":["type","url"],"additionalProperties":false},"logoUrl":{"type":"string"},"contactEmail":{"type":"string"},"legalInfoUrl":{"type":"string"},"id":{"type":"string"},"url":{"type":"string"},"workspaceId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["schemaVersion","nameForHuman","nameForModel","descriptionForHuman","descriptionForModel","auth","api","logoUrl","contactEmail","legalInfoUrl","id","url","workspaceId","createdAt","updatedAt"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}},"put":{"operationId":"plugins-update","tags":["Plugins"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"schemaVersion":{"type":"string"},"nameForHuman":{"type":"string"},"nameForModel":{"type":"string"},"descriptionForHuman":{"type":"string"},"descriptionForModel":{"type":"string"},"auth":{"anyOf":[{"type":"object","properties":{"type":{"type":"string","enum":["none"]}},"required":["type"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["user_http"]},"authorizationType":{"type":"string","enum":["bearer","basic"]}},"required":["type","authorizationType"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["service_http"]},"authorizationType":{"type":"string","enum":["bearer","basic"]},"verificationTokens":{"type":"object","additionalProperties":{"type":"string"}}},"required":["type","authorizationType","verificationTokens"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["oauth"]},"clientUrl":{"type":"string"},"scope":{"type":"string"},"authorizationUrl":{"type":"string"},"authorizationContentType":{"type":"string"},"verificationTokens":{"type":"object","additionalProperties":{"type":"string"}}},"required":["type","clientUrl","scope","authorizationUrl","authorizationContentType","verificationTokens"],"additionalProperties":false}]},"api":{"type":"object","properties":{"type":{"type":"string","enum":["openapi"]},"url":{"type":"string"},"hasUserAuthentication":{"type":"boolean","default":false}},"required":["type","url"],"additionalProperties":false},"logoUrl":{"type":"string"},"contactEmail":{"type":"string"},"legalInfoUrl":{"type":"string"},"id":{"type":"string"},"url":{"type":"string"},"workspaceId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["schemaVersion","nameForHuman","nameForModel","descriptionForHuman","descriptionForModel","auth","api","logoUrl","contactEmail","legalInfoUrl","id","url","workspaceId","createdAt","updatedAt"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}},"delete":{"operationId":"plugins-remove","tags":["Plugins"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}}},"/session":{"get":{"operationId":"session-current","tags":["Session"],"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"session":{"anyOf":[{"type":"object","properties":{"type":{"type":"string","enum":["public"]},"properties":{"type":"object","properties":{},"additionalProperties":false}},"required":["type","properties"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["user"]},"properties":{"type":"object","properties":{"userId":{"type":"string"},"workspaceId":{"type":"string"},"membershipId":{"type":"string"},"role":{"type":"string","enum":["owner","admin","user"]}},"required":["userId"],"additionalProperties":false}},"required":["type","properties"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["api"]},"properties":{"type":"object","properties":{"keyId":{"type":"string"},"userId":{"type":"string"},"workspaceId":{"type":"string"}},"required":["keyId","userId","workspaceId"],"additionalProperties":false}},"required":["type","properties"],"additionalProperties":false}]},"role":{"type":"string","enum":["admin","user"],"nullable":true}},"required":["session"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/users/current":{"get":{"operationId":"users-current","tags":["User"],"security":[{"Authorization":[]}],"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string","format":"email"},"picture":{"type":"object","properties":{"url":{"type":"string"},"title":{"type":"string","nullable":true,"default":null},"size":{"type":"number","nullable":true,"default":null},"key":{"type":"string","nullable":true,"default":null},"ext":{"type":"string","nullable":true,"default":null},"img":{"type":"string","nullable":true,"default":null},"description":{"type":"string","nullable":true,"default":null}},"required":["url"],"additionalProperties":false,"nullable":true,"default":null},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","name","email","createdAt","updatedAt"],"additionalProperties":false,"nullable":true}}}},"default":{"$ref":"#/components/responses/error"}}}},"/public/agents/{workspaceId}/{agentId}":{"post":{"operationId":"widget-conversation-start","tags":["Agents"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string"}},"required":["title"],"additionalProperties":false}}}},"parameters":[{"name":"workspaceId","in":"path","required":true,"schema":{"type":"string"}},{"name":"agentId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"agentId":{"type":"string"},"leadId":{"type":"string","nullable":true,"default":null},"stage":{"type":"string","enum":["identify","operational"],"default":"identify"},"context":{"type":"object","additionalProperties":{}},"workspaceId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","title","agentId","context","workspaceId","createdAt","updatedAt"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/public/agents/{workspaceId}/{agentId}/{conversationId}":{"post":{"operationId":"widget-conversation-ask","tags":["Agents"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"text":{"type":"string"}},"required":["text"],"additionalProperties":false}}}},"parameters":[{"name":"agentId","in":"path","required":true,"schema":{"type":"string"}},{"name":"workspaceId","in":"path","required":true,"schema":{"type":"string"}},{"name":"conversationId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"conversationId":{"type":"string"},"from":{"type":"string","enum":["agent","lead"]},"text":{"type":"string"},"intent":{"type":"string"},"metadata":{"type":"object","additionalProperties":{}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","conversationId","from","text","intent","metadata","createdAt","updatedAt"],"additionalProperties":false}}}}},"default":{"$ref":"#/components/responses/error"}}}},"/public/agents/{workspaceId}/{id}":{"get":{"operationId":"widget-agents-get","tags":["Agents"],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"workspaceId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"workspaceId":{"type":"string"},"id":{"type":"string"},"avatar":{"type":"object","properties":{"url":{"type":"string"},"title":{"type":"string","nullable":true,"default":null},"size":{"type":"number","nullable":true,"default":null},"key":{"type":"string","nullable":true,"default":null},"ext":{"type":"string","nullable":true,"default":null},"img":{"type":"string","nullable":true,"default":null},"description":{"type":"string","nullable":true,"default":null}},"required":["url"],"additionalProperties":false,"nullable":true,"default":null},"color":{"type":"string","pattern":"^#[0-9a-fA-F]{6}$","default":"#ff5722"},"name":{"type":"string"},"description":{"type":"string","nullable":true,"default":null},"welcome":{"type":"string","nullable":true,"default":null},"status":{"type":"string","enum":["online","offline","draft"],"default":"draft"},"references":{"type":"boolean","default":false}},"required":["workspaceId","id","name"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/workspaces/current":{"get":{"operationId":"workspaces-current","tags":["Workspace"],"security":[{"Authorization":[]}],"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string","enum":["company","individual"]},"name":{"type":"string"},"picture":{"type":"object","properties":{"url":{"type":"string"},"title":{"type":"string","nullable":true,"default":null},"size":{"type":"number","nullable":true,"default":null},"key":{"type":"string","nullable":true,"default":null},"ext":{"type":"string","nullable":true,"default":null},"img":{"type":"string","nullable":true,"default":null},"description":{"type":"string","nullable":true,"default":null}},"required":["url"],"additionalProperties":false,"nullable":true,"default":null},"site":{"type":"string","nullable":true,"default":null},"createdBy":{"type":"string","nullable":true},"updatedBy":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","type","name","createdBy","updatedBy","createdAt","updatedAt"],"additionalProperties":false,"nullable":true}}}},"default":{"$ref":"#/components/responses/error"}}}},"/interactions":{"get":{"operationId":"interactions-current","tags":["Interactions"],"security":[{"Authorization":[]}],"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"month":{"type":"string"},"current":{"type":"integer"},"max":{"type":"integer"},"subscriptionId":{"type":"string"},"workspaceId":{"type":"string"}},"required":["month","current","max","subscriptionId","workspaceId"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/subscriptions/plan":{"post":{"operationId":"subscriptions-changeCurrentPlan","tags":["Subscription"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"priceId":{"type":"string"}},"required":["priceId"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"default":{"$ref":"#/components/responses/error"}}}},"/subscriptions":{"post":{"operationId":"subscriptions-subscribe","tags":["Subscription"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"priceId":{"type":"string"}},"required":["priceId"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"string","nullable":true}}}},"default":{"$ref":"#/components/responses/error"}}}},"/subscriptions/plan-portal":{"post":{"operationId":"subscriptions-portalChangeCurrentPlan","tags":["Subscription"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"priceId":{"type":"string"}},"required":["priceId"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"string"}}}},"default":{"$ref":"#/components/responses/error"}}}},"/subscriptions/plans":{"get":{"operationId":"subscriptions-plans","tags":["Subscription"],"security":[{"Authorization":[]}],"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"available":{"type":"array","items":{"type":"object","properties":{"maxInteractions":{"type":"number"},"price":{"type":"string"},"priceId":{"type":"string"}},"required":["maxInteractions","price","priceId"],"additionalProperties":false}},"free":{"type":"object","properties":{"maxInteractions":{"type":"number"},"price":{"type":"string"},"priceId":{"type":"string"}},"required":["maxInteractions","price","priceId"],"additionalProperties":false}},"required":["available","free"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/subscriptions/current":{"get":{"operationId":"subscriptions-current","tags":["Subscription"],"security":[{"Authorization":[]}],"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"anyOf":[{"not":{}},{"type":"object","properties":{"id":{"type":"string"},"status":{"type":"string","enum":["incomplete","incomplete_expired","trialing","active","past_due","canceled","paused","unpaid"]},"priceId":{"type":"string"},"workspaceId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"plan":{"type":"object","properties":{"maxInteractions":{"type":"number"},"price":{"type":"string"},"priceId":{"type":"string"}},"required":["maxInteractions","price","priceId"],"additionalProperties":false}},"required":["id","status","priceId","workspaceId","createdAt","updatedAt","plan"],"additionalProperties":false,"nullable":true}]}}}},"default":{"$ref":"#/components/responses/error"}}}}},"components":{"securitySchemes":{"Authorization":{"type":"http","scheme":"bearer"}},"responses":{"error":{"description":"Error response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"},"issues":{"type":"array","items":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}},"required":["message","code"],"additionalProperties":false}}}}}}}